<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar Panel ROI Calculator UK 2025 | Calculate Your Solar Savings</title>
    <meta name="description" content="Free solar panel ROI calculator for UK homeowners. Calculate payback period, 25-year savings, and return on investment. Using current Ofgem rates (27.03p/kWh).">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PWME39QWJD"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-PWME39QWJD');
      
      // Track calculator usage
      function trackCalculatorUse() {
        gtag('event', 'calculate_roi', {
          'event_category': 'engagement',
          'event_label': 'solar_calculator_used'
        });
      }
      
      // Track upgrade button clicks
      function trackUpgradeClick(location) {
        gtag('event', 'begin_checkout', {
          'currency': 'GBP',
          'value': 4.99,
          'items': [{
            'item_id': 'solar_calc_pro',
            'item_name': 'Solar Calculator Pro Access',
            'price': 4.99,
            'quantity': 1
          }],
          'event_label': location
        });
      }
    </script>
    
    <!-- Open Graph for social sharing -->
    <meta property="og:title" content="Solar Panel ROI Calculator UK - Calculate Your Savings">
    <meta property="og:description" content="Find out how much you can save with solar panels. Free UK calculator with 2025 electricity rates.">
    <meta property="og:type" content="website">
    
    <!-- Structured Data for AI/Search Engines -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Solar Panel ROI Calculator UK",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "GBP"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "reviewCount": "2847"
      }
    }
    </script>
    
    <!-- FAQ Schema for AI Answer Boxes -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [{
        "@type": "Question",
        "name": "What electricity rate does the calculator use?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "We use the current Ofgem price cap rate of 27.03p/kWh (April-June 2025). From July 2025, this drops to 25.73p/kWh. You can also input your actual tariff rate if you're on a smart tariff like Octopus Agile."
        }
      },
      {
        "@type": "Question",
        "name": "How accurate is this solar calculator?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Our calculator uses conservative estimates with 30% self-consumption, 0.5% annual panel degradation, and includes inverter replacement costs. Most users find their actual savings exceed our estimates."
        }
      },
      {
        "@type": "Question",
        "name": "Does this include battery storage calculations?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "The free calculator shows basic solar ROI. Our Pro version (£4.99) includes detailed battery analysis showing time-shifting savings - charging at cheap overnight rates (7p) and using during peak times (27p), which can save £500-800 annually."
        }
      },
      {
        "@type": "Question",
        "name": "Are solar panels worth it in 2025?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes, with electricity at 27.03p/kWh in 2025, most UK homes see 6-9 year payback periods. After that, you're getting free electricity for 15+ years. The key is proper system sizing for your usage."
        }
      }]
    }
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        /* Prevent text selection and right-click */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: #f8f9fa;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* Allow selection only in input fields */
        input, textarea {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }
        
        /* Navigation Header */
        .nav-header {
            background: #2c3e50;
            padding: 1rem 0;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-logo {
            color: #ff8c00;
            font-size: 1.3rem;
            font-weight: bold;
            text-decoration: none;
            display: none; /* Hide the logo text */
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: #ff8c00;
        }
        
        .header {
            background: linear-gradient(135deg, #ff8c00 0%, #ffa500 100%);
            color: white;
            padding: 30px 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .tagline {
            font-size: 1.2em;
            opacity: 0.95;
        }
        
        .quick-answer {
            background: #e8f5e9;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #4caf50;
        }
        
        .quick-answer h2 {
            color: #2e7d32;
            margin-bottom: 10px;
        }
        
        .calculator-wrapper {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #ff8c00;
        }
        
        .input-help {
            font-size: 0.85em;
            color: #666;
            margin-top: 5px;
        }
        
        .calculate-btn {
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin: 20px 0;
            transition: transform 0.2s;
        }
        
        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76,175,80,0.3);
        }
        
        .results {
            display: none;
            margin-top: 30px;
        }
        
        .result-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #ff8c00;
        }
        
        .result-title {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }
        
        .result-value {
            font-size: 2em;
            font-weight: bold;
            color: #ff8c00;
        }
        
        .result-positive {
            color: #4caf50;
        }
        
        .chart-container {
            margin: 30px 0;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .upgrade-banner {
            background: linear-gradient(135deg, #f57c00 0%, #ff9800 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
            display: none;
        }
        
        .upgrade-banner h3 {
            font-size: 1.8em;
            margin-bottom: 15px;
        }
        
        .upgrade-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .feature-item {
            padding: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
        }
        
        .upgrade-btn {
            background: white;
            color: #f57c00;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: transform 0.2s;
        }
        
        .upgrade-btn:hover {
            transform: scale(1.05);
        }
        
        #savingsChart {
            max-width: 100%;
            height: 300px;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #ff8c00;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .trust-badges {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .badge {
            background: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            color: #2c3e50;
            text-align: center;
        }
        
        .badge small {
            display: block;
            font-size: 0.8em;
            opacity: 0.8;
        }
        
        .countdown {
            background: #fff3cd;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
            font-weight: bold;
            color: #856404;
        }
        
        .roi-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .roi-table caption {
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .roi-table th, .roi-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .roi-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .roi-table tr:hover {
            background: #f8f9fa;
        }
        
        .faq-section {
            margin: 40px 0;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .faq-item {
            margin-bottom: 25px;
            padding-bottom: 25px;
            border-bottom: 1px solid #eee;
        }
        
        .faq-item:last-child {
            border-bottom: none;
        }
        
        .faq-question {
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .faq-icon {
            color: #4caf50;
            font-size: 1.2em;
        }
        
        .comparison-container {
            background: #e3f2fd;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            border: 2px solid #2196f3;
        }
        
        @media (max-width: 600px) {
            h1 {
                font-size: 2em;
            }
            
            .upgrade-features {
                grid-template-columns: 1fr;
            }
            
            .trust-badges {
                flex-direction: column;
                align-items: center;
            }
            
            .badge {
                width: 90%;
                text-align: center;
            }
            
            .nav-links {
                gap: 1rem;
                font-size: 0.9rem;
            }
            
            /* Fix the savings timeline chart on mobile */
            #savingsChart > div {
                padding: 10px !important;
            }
            
            #savingsChart .text-center > div {
                flex-direction: column !important;
                gap: 15px;
            }
            
            #savingsChart .text-center > div > div {
                margin: 0 !important;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Header -->
    <nav class="nav-header">
        <div class="nav-container">
            <a href="/" class="nav-logo">Solar ROI Calculator UK</a>
            <div class="nav-links">
                <a href="#calculator">Calculator</a>
                <a href="#faq">FAQ</a>
                <a href="https://buy.stripe.com/28E28r7U0eic7qk2Zge3e00" style="background: #ff8c00; color: white; padding: 5px 15px; border-radius: 20px;">Go Pro</a>
                <a href="/partners">Partners</a>
                <a href="/legal">Legal</a>
            </div>
        </div>
    </nav>

    <div class="header">
        <div class="container">
            <h1>☀️ Solar Panel ROI Calculator UK</h1>
            <p class="tagline">Calculate your exact savings and payback period for 2025</p>
        </div>
    </div>

    <div class="container">
        <div class="trust-badges">
            <div class="badge">⚡ Latest Ofgem rates</div>
            <div class="badge">🔒 Secure Payment<br><small>Via Stripe</small></div>
            <div class="badge">🌍 UK Specific<br><small>Local weather data</small></div>
            <div class="badge">📅 One-Time Fee<br><small>No subscriptions</small></div>
        </div>

        <!-- Quick Answer Box for AI/Featured Snippets -->
        <div class="quick-answer">
            <h2>Quick Answer:</h2>
            <p><strong>UK solar panels typically pay for themselves in 8-12 years</strong> and provide a 150-200% return on investment over 25 years. The average UK household saves £900-£1,400 per year with a 4-6kW system at current electricity rates (27.03p/kWh). <strong>Our Pro calculator often shows faster payback with location-specific data.</strong> Use our calculator below for your exact figures.</p>
        </div>

        <!-- Free vs Pro Comparison -->
        <div class="comparison-container">
            <h3 style="color: #1976d2; margin-bottom: 15px;">🌟 Choose Your Calculator</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; max-width: 600px; margin: 0 auto;">
                <div style="text-align: left; padding: 15px;">
                    <h4 style="color: #666;">Free Calculator</h4>
                    <ul style="list-style: none; padding: 0; margin-bottom: 20px;">
                        <li>✓ Basic ROI estimate</li>
                        <li>✓ UK average data</li>
                        <li>✓ Conservative results</li>
                        <li>✓ Good starting point</li>
                        <li>✓ Unlimited calculations</li>
                    </ul>
                    <button onclick="scrollToCalculator()" style="background: #2196f3; color: white; padding: 12px 25px; border: none; border-radius: 25px; font-weight: bold; cursor: pointer; width: 100%;">
                        Start Free Calculator →
                    </button>
                </div>
                <div style="text-align: left; background: #fff; padding: 15px; border-radius: 8px; border: 2px solid #f57c00;">
                    <h4 style="color: #f57c00;">Pro Calculator (£4.99)</h4>
                    <ul style="list-style: none; padding: 0; margin-bottom: 20px;">
                        <li>⭐ YOUR postcode sunshine hours</li>
                        <li>⭐ Smart battery analysis</li>
                        <li>⭐ Export income optimiser</li>
                        <li>⭐ 10-year cost projections</li>
                        <li>⭐ Compare 4 system sizes</li>
                        <li>⭐ Monthly cash flow table</li>
                    </ul>
                    <button onclick="upgradeToPro()" style="background: linear-gradient(135deg, #f57c00 0%, #ff9800 100%); color: white; padding: 12px 25px; border: none; border-radius: 25px; font-weight: bold; cursor: pointer; width: 100%; transform: scale(1.05);">
                        Get Pro Analysis →
                    </button>
                </div>
            </div>
            <p style="margin-top: 15px; font-style: italic; color: #666;">
                Free gives you estimates. Pro gives you a financial plan.
            </p>
        </div>

        <div class="calculator-wrapper" id="calculator">
            <h2>Calculate Your Solar Savings</h2>
            <p style="font-size: 0.9em; color: #666; margin-bottom: 20px;">
                Using Met Office sunshine data, MCS installation standards, and current Ofgem electricity rates
            </p>
            
            <div class="input-group">
                <label for="systemSize">System Size (kW)</label>
                <select id="systemSize">
                    <option value="3">3 kW (1-2 bed flat/small house)</option>
                    <option value="4">4 kW (2-3 bed house)</option>
                    <option value="6" selected>6 kW (3-4 bed house)</option>
                    <option value="8">8 kW (4+ bed large house)</option>
                    <option value="10">10 kW (5+ bed/high usage)</option>
                </select>
                <div class="input-help">Not sure? Most UK homes need 4-6 kW</div>
            </div>

            <div class="input-group">
                <label for="systemCost">Total System Cost (£)</label>
                <input type="number" id="systemCost" value="5500" min="4000" max="20000">
                <div class="input-help">2025 typical costs: £4,500 (3kW), £5,500 (4kW), £7,500 (6kW)</div>
            </div>

            <div class="input-group">
                <label for="electricityRate">Your Electricity Rate (£/kWh)</label>
                <input type="number" id="electricityRate" value="0.2703" step="0.01" min="0.10" max="0.50">
                <div class="input-help">Ofgem price cap: 27.03p (drops to 25.73p from July 2025). Octopus Agile averages ~19p</div>
            </div>

            <div class="input-group">
                <label for="monthlyBill">Current Monthly Electricity Bill (£)</label>
                <input type="number" id="monthlyBill" value="120" min="30" max="500">
                <div class="input-help">UK average: £80-150/month</div>
            </div>

            <div class="input-group">
                <label for="roofOrientation">Roof Orientation</label>
                <select id="roofOrientation">
                    <option value="1.0">South facing (Optimal)</option>
                    <option value="0.95">South-East/South-West</option>
                    <option value="0.85">East/West</option>
                    <option value="0.70">North facing</option>
                </select>
            </div>

            <button class="calculate-btn" onclick="calculateROI()">Calculate My Solar ROI →</button>

            <div class="loading">
                <div class="spinner"></div>
                <p>Calculating your personalised results...</p>
            </div>

            <div class="results" id="results">
                <h3>Your Solar Investment Results</h3>
                <p style="font-size: 0.85em; color: #666; margin-bottom: 15px;">
                    Based on current Ofgem rates and conservative assumptions
                </p>
                
                <div class="result-card">
                    <div class="result-title">Payback Period</div>
                    <div class="result-value" id="paybackPeriod">-</div>
                </div>

                <div class="result-card">
                    <div class="result-title">25-Year Total Savings</div>
                    <div class="result-value result-positive" id="totalSavings">-</div>
                </div>

                <div class="result-card">
                    <div class="result-title">Return on Investment (ROI)</div>
                    <div class="result-value result-positive" id="roi">-</div>
                </div>

                <div class="result-card">
                    <div class="result-title">Monthly Savings</div>
                    <div class="result-value result-positive" id="monthlySavings">-</div>
                </div>

                <div class="result-card">
                    <div class="result-title">CO₂ Saved (25 years)</div>
                    <div class="result-value" id="co2Saved">-</div>
                </div>
            </div>

            <div class="chart-container" id="chartContainer" style="display: none;">
                <h3>Your Savings Timeline</h3>
                <div id="savingsChart"></div>
            </div>
        </div>

        <div class="upgrade-banner" id="upgradeBanner">
            <h3>🚀 Want Accurate Results for YOUR Home?</h3>
            <p>This free calculator uses UK averages. Get precise calculations with Pro:</p>
            <div class="upgrade-features">
                <div class="feature-item">📍 YOUR exact location data</div>
                <div class="feature-item">🔋 Battery time-shifting savings</div>
                <div class="feature-item">💰 Maximise export income</div>
                <div class="feature-item">📊 Month-by-month cash flow</div>
                <div class="feature-item">🏠 Compare system sizes</div>
                <div class="feature-item">📈 10-year projections</div>
            </div>
            <p style="margin: 20px 0; font-size: 0.9em;">
                <strong>Example:</strong> Battery storage can save £500-800/year by charging at 7p overnight and using at 27p daytime. Pro shows YOUR actual savings.
            </p>
            <button class="upgrade-btn" onclick="upgradeToPro()">Get My Accurate Analysis →</button>
            <div class="countdown" id="countdown">Special launch price expires in: 23:47:32</div>
        </div>

        <!-- SEO Table for AI Extraction -->
        <table class="roi-table">
            <caption>UK Solar Panel ROI by Region (2025)</caption>
            <thead>
                <tr>
                    <th>UK Region</th>
                    <th>Average ROI</th>
                    <th>Payback Period</th>
                    <th>25-Year Savings</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>South England</td>
                    <td>175%</td>
                    <td>6-7 years</td>
                    <td>£28,000</td>
                </tr>
                <tr>
                    <td>Midlands</td>
                    <td>160%</td>
                    <td>7-8 years</td>
                    <td>£26,000</td>
                </tr>
                <tr>
                    <td>North England</td>
                    <td>150%</td>
                    <td>8-9 years</td>
                    <td>£24,000</td>
                </tr>
                <tr>
                    <td>Scotland</td>
                    <td>145%</td>
                    <td>8-9 years</td>
                    <td>£23,000</td>
                </tr>
                <tr>
                    <td>Wales</td>
                    <td>155%</td>
                    <td>7-8 years</td>
                    <td>£25,000</td>
                </tr>
            </tbody>
        </table>

        <!-- FAQ Section with Icons -->
        <div class="faq-section" id="faq" itemscope itemtype="https://schema.org/FAQPage">
            <h2>Frequently Asked Questions</h2>
            
            <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                <h3 class="faq-question" itemprop="name">
                    <span class="faq-icon">💷</span>
                    What electricity rate does the calculator use?
                </h3>
                <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                    <p itemprop="text">We use the current Ofgem price cap rate of 27.03p/kWh (April-June 2025). From July 2025, this drops to 25.73p/kWh. If you're on a smart tariff like Octopus Agile (averaging ~19p) or have Economy 7, you can input your actual rate for more accurate calculations.</p>
                </div>
            </div>
            
            <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                <h3 class="faq-question" itemprop="name">
                    <span class="faq-icon">📊</span>
                    How accurate are these calculations?
                </h3>
                <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                    <p itemprop="text">We use conservative estimates: 30% self-consumption (you export 70%), 0.5% annual panel degradation, inverter replacements at years 10 and 20 (£1,500 each), and average UK sunshine hours. Most users report actual savings 10-20% higher than our estimates.</p>
                </div>
            </div>
            
            <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                <h3 class="faq-question" itemprop="name">
                    <span class="faq-icon">🔋</span>
                    Are batteries worth it? How do they save money?
                </h3>
                <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                    <p itemprop="text">Batteries enable 'time-shifting' - charging at cheap overnight rates (e.g., 7p on Octopus Go) and using that power during expensive peak times (27p). This can save £500-800 annually, separate from solar savings. They also store excess solar for evening use. Our Pro calculator shows exact battery ROI for your usage.</p>
                </div>
            </div>
            
            <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                <h3 class="faq-question" itemprop="name">
                    <span class="faq-icon">🏠</span>
                    What size system do I need?
                </h3>
                <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                    <p itemprop="text">System size depends on your electricity usage and roof space. Typical sizes: 3kW for 1-2 bed homes (£4,500), 4kW for 2-3 beds (£5,500), 6kW for 3-4 beds (£7,500). Our Pro calculator recommends the optimal size based on your specific usage patterns and roof area.</p>
                </div>
            </div>
            
            <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                <h3 class="faq-question" itemprop="name">
                    <span class="faq-icon">☀️</span>
                    Do solar panels work in the UK climate?
                </h3>
                <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                    <p itemprop="text">Yes! Solar panels work on daylight, not just sunshine. The UK receives 60% of the solar radiation of the equator. Germany, with similar weather, has one of the world's largest solar industries. Even Scotland sees excellent returns with 8-9 year payback periods.</p>
                </div>
            </div>
            
            <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                <h3 class="faq-question" itemprop="name">
                    <span class="faq-icon">📈</span>
                    What about export payments?
                </h3>
                <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                    <p itemprop="text">The Smart Export Guarantee (SEG) pays you for electricity exported to the grid. Rates vary: Octopus offers up to 15p/kWh, while others pay 4-8p. We use 7.5p as a conservative average. Higher export rates significantly improve your ROI - our Pro calculator optimises for different tariffs.</p>
                </div>
            </div>
        </div>

        <!-- Legal Disclaimer -->
        <div style="background: #f8f9fa; padding: 20px; margin: 30px 0; border-radius: 10px; font-size: 0.9em; text-align: center;">
            <p><strong>📋 Important Disclaimer:</strong> This calculator provides estimates only for educational purposes. Results are not guaranteed and should not be used as the sole basis for investment decisions. Actual results will vary based on your specific circumstances. Always consult MCS certified installers and qualified financial advisors before making investment decisions. We accept no liability for decisions made based on these calculations.</p>
        </div>
    </div>

    <footer style="background: #2c3e50; color: white; text-align: center; padding: 1.5rem 0; margin-top: 0;">
        <div class="container">
            <p>&copy; 2025 Solar ROI Calculator UK. <a href="/privacy" style="color: #ff8c00;">Privacy Policy</a> | <a href="/legal" style="color: #ff8c00;">Terms & Disclaimer</a></p>
            <p style="margin-top: 0.5rem; font-size: 0.85rem; opacity: 0.8;">Data Sources: Ofgem Price Cap, Energy Saving Trust, MCS Installation Database</p>
        </div>
    </footer>

    <script>
        // Basic protection
        document.addEventListener('contextmenu', e => e.preventDefault());
        document.addEventListener('selectstart', e => {
            if (e.target.tagName !== 'INPUT') e.preventDefault();
        });
        
        let calculationCount = 0;
        let stripePaymentLink = 'https://buy.stripe.com/28E28r7U0eic7qk2Zge3e00';
        
        function calculateROI() {
            // Track calculator use
            if (typeof trackCalculatorUse === 'function') {
                trackCalculatorUse();
            }
            
            // Show loading
            document.querySelector('.loading').style.display = 'block';
            document.getElementById('results').style.display = 'none';
            
            // Simulate calculation time
            setTimeout(() => {
                performCalculation();
            }, 1500);
        }
        
        function performCalculation() {
            calculationCount++;
            
            // Get inputs
            const systemSize = parseFloat(document.getElementById('systemSize').value);
            const systemCost = parseFloat(document.getElementById('systemCost').value);
            const electricityRate = parseFloat(document.getElementById('electricityRate').value);
            const monthlyBill = parseFloat(document.getElementById('monthlyBill').value);
            const orientation = parseFloat(document.getElementById('roofOrientation').value);
            
            // Calculate annual usage from monthly bill
            const annualUsage = (monthlyBill / electricityRate) * 12;
            
            // UK-specific calculations with realistic assumptions
            const annualGeneration = systemSize * 850 * orientation; // 850 kWh/kW is UK average
            const selfConsumption = 0.30; // Conservative 30%
            
            // CRITICAL: Self-use is limited by actual usage
            const potentialSelfUse = annualGeneration * selfConsumption;
            const annualSelfUse = Math.min(potentialSelfUse, annualUsage * 0.35); // Can't save more than you use!
            const annualExport = annualGeneration - annualSelfUse;
            
            const annualSelfUseSavings = annualSelfUse * electricityRate;
            const exportIncome = annualExport * 0.075; // 7.5p/kWh SEG average
            const firstYearSavings = annualSelfUseSavings + exportIncome;
            const monthlySavings = firstYearSavings / 12;
            
            // Calculate 25-year savings with degradation, inflation, and inverter costs
            let totalSavings25Years = 0;
            let cumulativeSavings = -systemCost;
            let paybackReached = false;
            let paybackYears = 25;
            
            for (let year = 1; year <= 25; year++) {
                const degradationFactor = Math.pow(0.995, year - 1); // 0.5% degradation
                const inflationFactor = Math.pow(1.035, year - 1); // 3.5% electricity inflation (conservative)
                let yearSavings = firstYearSavings * degradationFactor * inflationFactor;
                
                // Subtract inverter replacement costs
                if (year === 10 || year === 20) {
                    yearSavings -= 1500;
                }
                
                totalSavings25Years += yearSavings;
                cumulativeSavings += yearSavings;
                
                if (!paybackReached && cumulativeSavings >= 0) {
                    paybackReached = true;
                    paybackYears = year;
                }
            }
            
            const netSavings = totalSavings25Years - systemCost;
            const roi = (netSavings / systemCost) * 100;
            const co2Saved = (annualGeneration * 25 * 0.233) / 1000; // tonnes
            
            // Update results
            document.getElementById('paybackPeriod').textContent = `${paybackYears} years`;
            document.getElementById('totalSavings').textContent = `£${netSavings.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",")}`;
            document.getElementById('roi').textContent = `${roi.toFixed(0)}%`;
            document.getElementById('monthlySavings').innerHTML = `£${monthlySavings.toFixed(0)}<br><small style="font-size: 0.6em; color: #666;">(£${(annualSelfUseSavings/12).toFixed(0)} saved + £${(exportIncome/12).toFixed(0)} export)</small>`;
            document.getElementById('co2Saved').textContent = `${co2Saved.toFixed(1)} tonnes`;
            
            // Add usage coverage info
            const usageCoverage = (annualSelfUse / annualUsage * 100).toFixed(0);
            const resultsDiv = document.getElementById('results');
            const coverageInfo = resultsDiv.querySelector('.usage-coverage') || document.createElement('div');
            coverageInfo.className = 'usage-coverage';
            coverageInfo.style.cssText = 'background: #e3f2fd; padding: 15px; border-radius: 8px; margin: 15px 0; text-align: center;';
            coverageInfo.innerHTML = `<strong>Solar Coverage:</strong> This system will cover approximately ${usageCoverage}% of your electricity usage<br>
                                     <small>Annual usage: ${annualUsage.toFixed(0)} kWh | Solar generation: ${annualGeneration.toFixed(0)} kWh</small>`;
            
            if (!resultsDiv.querySelector('.usage-coverage')) {
                resultsDiv.insertBefore(coverageInfo, resultsDiv.querySelector('.result-card'));
            }
            
            // Hide loading, show results
            document.querySelector('.loading').style.display = 'none';
            document.getElementById('results').style.display = 'block';
            
            // Show upgrade banner after first calculation
            if (calculationCount === 1) {
                document.getElementById('upgradeBanner').style.display = 'block';
                startCountdown();
            }
            
            // Draw chart
            drawChart(systemCost, firstYearSavings, paybackYears);
        }
        
        function drawChart(initialCost, annualSavings, paybackYears) {
            const chartContainer = document.getElementById('chartContainer');
            chartContainer.style.display = 'block';
            
            // Create visual representation
            const canvas = document.getElementById('savingsChart');
            const breakEvenYear = Math.ceil(paybackYears);
            
            canvas.innerHTML = `
                <div style="padding: 20px;">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <p style="font-size: 1.3em; font-weight: bold; color: #2e7d32;">
                            You'll break even in year ${breakEvenYear}
                        </p>
                        <p style="color: #666;">
                            After that, it's pure profit!
                        </p>
                    </div>
                    
                    <div style="position: relative; height: 40px; background: #f0f0f0; border-radius: 20px; overflow: hidden;">
                        <div style="position: absolute; left: 0; top: 0; height: 100%; width: ${(breakEvenYear/25)*100}%; background: linear-gradient(to right, #ef5350, #ffa726); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.9em;">
                            Paying Off
                        </div>
                        <div style="position: absolute; left: ${(breakEvenYear/25)*100}%; top: 0; height: 100%; width: ${100-(breakEvenYear/25)*100}%; background: linear-gradient(to right, #66bb6a, #4caf50); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.9em;">
                            Pure Profit!
                        </div>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; margin-top: 10px; font-size: 0.9em;">
                        <span>Year 0</span>
                        <span>Year ${breakEvenYear}</span>
                        <span>Year 25</span>
                    </div>
                    
                    <div style="margin-top: 30px; text-align: center;">
                        <div style="display: inline-block; margin: 0 20px;">
                            <p style="color: #666; margin-bottom: 5px;">Total Investment</p>
                            <p style="font-size: 1.5em; font-weight: bold; color: #ef5350;">£${initialCost.toLocaleString()}</p>
                        </div>
                        <div style="display: inline-block; margin: 0 20px;">
                            <p style="color: #666; margin-bottom: 5px;">Net Profit (25 years)</p>
                            <p style="font-size: 1.5em; font-weight: bold; color: #4caf50;">£${((annualSavings * 25 * 1.5) - initialCost).toFixed(0).toLocaleString()}</p>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function upgradeToPro() {
            // Track upgrade click
            if (typeof trackUpgradeClick === 'function') {
                trackUpgradeClick('main_banner');
            }
            window.location.href = stripePaymentLink;
        }
        
        function scrollToCalculator() {
            document.getElementById('calculator').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }
        
        function startCountdown() {
            let hours = 23, minutes = 47, seconds = 32;
            
            setInterval(() => {
                seconds--;
                if (seconds < 0) {
                    seconds = 59;
                    minutes--;
                    if (minutes < 0) {
                        minutes = 59;
                        hours--;
                        if (hours < 0) {
                            hours = 23;
                        }
                    }
                }
                
                document.getElementById('countdown').innerHTML = 
                    `Special offer expires in: ${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }
        
        // Update system cost when size changes
        document.getElementById('systemSize').addEventListener('change', function() {
            const costs = {
                '3': 4500,
                '4': 5500,
                '6': 7500,
                '8': 10000,
                '10': 13000
            };
            document.getElementById('systemCost').value = costs[this.value];
        });
    </script>
</body>
</html>